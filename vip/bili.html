<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" id="vod_bvPjyWyKza">
<meta charset="UTF-8" id="vod_8075623491">
<script src="decode.js"></script>
<script src="https://libs.baidu.com/jquery/1.11.1/jquery.min.js"></script>
<link href="https://hlwdy.tk/vip/video-js.min.css" rel="stylesheet">
<script src="https://hlwdy.tk/vip/video.min.js"></script>
<script src="https://unpkg.com/flv.js/dist/flv.min.js"></script>
<script src="https://unpkg.com/videojs-flvjs/dist/videojs-flvjs.min.js"></script>
<style>
html,body{margin:0;height:100%;}
.videoBox{
	width: 100%;
	height: 100%;
}
#mainplayer{
	width: 100%;
	height: 100%;
}
</style>
</head>
<body>
<div class="videoBox">
<video
    id="mainplayer"
    class="video-js vjs-default-skin vjs-big-play-centered"
    controls
    preload="auto"
    data-setup='{}'>
</video>
</div>
<script>
function getQueryString(name){
    let reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
    let r = window.location.search.substr(1).match(reg);
    if (r != null) {
        return decodeURIComponent(r[2]);
    };
    return null;
}
if(getQueryString('v')){
var url=getQueryString('v');
var http = (window.location.protocol === 'http:' ? 'http:' : 'https:');
$.get(http + '//tool.hlwdy.tk/api/bpar.php',{v:url},function(data, textStatus){
	var i=abc(data.pr.replace('vod_',''),data.pu.replace('vod_',''),data.url);
	alert(i);
	if(i){
		var mainPlayer=videojs('mainplayer');
		mainPlayer.ready(function(){
			mainPlayer.src({
				src: i,
				type: 'video/x-flv'
			});
			mainPlayer.play();
		});
	}else{
		alert('解析发生错误，请稍后刷新重试。');
	}
});
}
</script></body></html>