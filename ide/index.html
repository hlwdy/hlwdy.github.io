<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="js/jquery.min.js"></script>
    <script src="js/goldenlayout.min.js"></script>
    <link rel="stylesheet" href="css/goldenlayout-base.css" />
    <link rel="stylesheet" href="css/goldenlayout-dark-theme.css" />

    <script>
        var require = {
            paths: {
                "vs": "https://unpkg.com/monaco-editor/min/vs",
                "monaco-vim": "https://unpkg.com/monaco-vim/dist/monaco-vim",
                "monaco-emacs": "https://unpkg.com/monaco-emacs/dist/monaco-emacs"
            }
        };
    </script>
    <script src="js/loader.js"></script>
    <script src="js/editor.main.nls.js"></script>
    <script src="js/editor.main.js"></script>

    <link rel="stylesheet" href="css/semantic.min.css" />
    <script src="js/semantic.min.js"></script>
    <script type="text/javascript" src="js/third_party/download.js"></script>

    <script type="text/javascript" src="js/ide.js"></script>

    <link type="text/css" rel="stylesheet" href="css/ide.css">

    <title>Online IDE</title>
</head>

<body>
    <script>
        $(window).bind('beforeunload', function(){
	    if(window.is_confirm !== false)
		    return '代码未保存,确定要关闭吗';
        });
    </script>
    <div id="site-navigation" class="ui small inverted menu">

        <div class="left menu">
            <div class="ui dropdown item site-links on-hover">
                文件 <i class="dropdown icon"></i>
                <div class="menu">
                    <a class="item" target="_blank" href="/ide"><i class="file code icon"></i> 新建</a>
		    <div class="item" onclick="$('#load_file').click();"><i class="open file icon"></i>打开 (Ctrl+O)</div>
			<input type="file" id="load_file" name="file" style="display:none" onchange ="openFile()">
                    <div class="item" onclick="downloadSource()"><i class="download icon"></i> 下载</div>
                </div>
            </div>
            <div class="item borderless">
                <select id="select-language" class="ui dropdown">
                    <option value="52" mode="cpp">C++ (GCC 7.4.0)</option>
                    <option value="53" mode="cpp">C++ (GCC 8.3.0)</option>
                    <option value="54" mode="cpp">C++ (GCC 9.2.0)</option>
                    <option value="45" mode="UNKNOWN">Assembly (NASM 2.14.02)</option> <!-- Unknown mode. Help needed. -->
                    <option value="46" mode="shell">Bash (5.0.0)</option>
                    <option value="47" mode="UNKNOWN">Basic (FBC 1.07.1)</option> <!-- Unknown mode. Help needed. -->
                    <option value="48" mode="c">C (GCC 7.4.0)</option>
                    <option value="49" mode="c">C (GCC 8.3.0)</option>
                    <option value="50" mode="c">C (GCC 9.2.0)</option>
                    <option value="51" mode="csharp">C# (Mono 6.6.0.161)</option>
                    <option value="55" mode="UNKNOWN">Common Lisp (SBCL 2.0.0)</option> <!-- Unknown mode. Help needed. -->
                    <option value="56" mode="UNKNOWN">D (DMD 2.089.1)</option> <!-- Unknown mode. Help needed. -->
                    <option value="57" mode="UNKNOWN">Elixir (1.9.4)</option> <!-- Unknown mode. Help needed. -->
                    <option value="58" mode="UNKNOWN">Erlang (OTP 22.2)</option> <!-- Unknown mode. Help needed. -->
                    <option value="44" mode="plaintext">Executable</option>
                    <option value="59" mode="UNKNOWN">Fortran (GFortran 9.2.0)</option> <!-- Unknown mode. Help needed. -->
                    <option value="60" mode="go">Go (1.13.5)</option>
                    <option value="61" mode="UNKNOWN">Haskell (GHC 8.8.1)</option> <!-- Unknown mode. Help needed. -->
                    <option value="62" mode="java">Java (OpenJDK 13.0.1)</option>
                    <option value="63" mode="javascript">JavaScript (Node.js 12.14.0)</option>
                    <option value="64" mode="lua">Lua (5.3.5)</option>
                    <option value="1000" mode="python">Nim (stable)</option> <!-- Replacement mode. Help needed. -->
                    <option value="65" mode="UNKNOWN">OCaml (4.09.0)</option> <!-- Unknown mode. Help needed. -->
                    <option value="66" mode="UNKNOWN">Octave (5.1.0)</option> <!-- Unknown mode. Help needed. -->
                    <option value="67" mode="pascal">Pascal (FPC 3.0.4)</option>
                    <option value="68" mode="php">PHP (7.4.1)</option>
                    <option value="43" mode="plaintext">Plain Text</option>
                    <option value="69" mode="UNKNOWN">Prolog (GNU Prolog 1.4.5)</option> <!-- Unknown mode. Help needed. -->
                    <option value="70" mode="python">Python (2.7.17)</option>
                    <option value="71" mode="python">Python (3.8.1)</option>
                    <option value="72" mode="ruby">Ruby (2.7.0)</option>
                    <option value="73" mode="rust">Rust (1.40.0)</option>
                    <option value="74" mode="rust">TypeScript (3.7.4)</option>
                    <option value="1001" mode="rust">V (latest)</option> <!-- Replacement mode. Help needed. -->
                </select>
            </div>
            <div class="item fitted borderless">
                <div class="ui input">
                    <input id="compiler-options" type="text" placeholder="编译附加选项"></input>
                </div>
            </div>
            <div class="item borderless">
                <div class="ui input">
                    <input id="command-line-arguments" type="text" placeholder="附加参数"></input>
                </div>
            </div>
            <div class="item no-left-padding borderless">
                <button id="run-btn" class="ui primary labeled icon button">运行程序 (F9)</button>
            </div>
        </div>
    </div>

    <div id="site-content"></div>

    <div id="site-modal" class="ui modal">
        <div class="header">
            <i class="close icon"></i>
            <span id="title"></span>
        </div>
        <div class="scrolling content"></div>
        <div class="actions">
            <div class="ui small labeled icon cancel button">
                <i class="remove icon"></i>
                Close (ESC)
            </div>
        </div>
    </div>


    <div id="site-footer">
        <span id="status-line"></span>
    </div>
</body>

</html>
